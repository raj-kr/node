# Node.js + TypeScript Boilerplate Setup Guide

This guide will help you set up a complete Node.js + TypeScript development environment from scratch.

## Prerequisites

- Node.js (v16 or higher)
- npm (comes with Node.js)

## Step 1: Initialize the Project

```bash
# Create project directory
mkdir my-node-ts-project
cd my-node-ts-project

# Initialize package.json
npm init -y
```

## Step 2: Install Dependencies

### Development Dependencies

```bash
npm install --save-dev typescript @types/node ts-node ts-node-dev nodemon
```

### Production Dependencies (if needed)

```bash
npm install express  # Example: if you're building a web server
```

## Step 3: Configure TypeScript

Create `tsconfig.json` in the root directory:

```json
{
  "compilerOptions": {
    "target": "ES2020",
    "module": "CommonJS",
    "moduleResolution": "node",
    "esModuleInterop": true,
    "allowSyntheticDefaultImports": true,
    "outDir": "dist",
    "rootDir": "src",
    "strict": true,
    "skipLibCheck": true,
    "forceConsistentCasingInFileNames": true,
    "resolveJsonModule": true,
    "declaration": true,
    "declarationMap": true,
    "sourceMap": true
  },
  "include": ["src/**/*"],
  "exclude": ["node_modules", "dist"]
}
```

## Step 4: Configure Package.json Scripts

Update your `package.json` scripts section:

```json
{
  "scripts": {
    "dev": "nodemon",
    "start": "node dist/index.js",
    "build": "tsc",
    "dev:ts": "ts-node-dev --respawn --transpile-only src/index.ts",
    "ts": "ts-node src/index.ts"
  }
}
```

## Step 5: Configure Nodemon

Create `nodemon.json` in the root directory:

```json
{
  "watch": ["src"],
  "ext": "ts",
  "exec": "ts-node src/index.ts"
}
```

## Step 6: Create Project Structure

```txt
my-node-ts-project/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.ts
â”‚   â””â”€â”€ utils.ts
â”œâ”€â”€ dist/                 # Generated by TypeScript compiler
â”œâ”€â”€ node_modules/
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ nodemon.json
â””â”€â”€ setup.md
```

## Step 7: Create Sample Files

### src/index.ts

```typescript
import http from "http";
import { add, multiply } from "./utils";
import mathUtils from "./utils";

export const greet = (name: string): string => {
  return `Hello, ${name}!`;
};

console.log(greet("World"));
console.log("2 + 3 =", add(2, 3));
console.log("4 * 5 =", multiply(4, 5));
console.log("Math utils:", mathUtils.add(10, 20));
```

### src/utils.ts

```typescript
export const add = (a: number, b: number): number => {
  return a + b;
};

export const multiply = (a: number, b: number): number => {
  return a * b;
};

export default {
  add,
  multiply,
};
```

## Step 8: Available Commands

### Development Commands

```bash
# Run TypeScript directly (for quick testing)
npm run ts

# Run in development mode with file watching
npm run dev

# Alternative development mode with ts-node-dev
npm run dev:ts
```

### Production Commands

```bash
# Compile TypeScript to JavaScript
npm run build

# Run the compiled JavaScript
npm start
```

## Step 9: Import/Export Examples

### Named Exports/Imports

```typescript
// Export
export const myFunction = () => { ... };
export const myVariable = "value";

// Import
import { myFunction, myVariable } from "./module";
```

### Default Exports/Imports

```typescript
// Export
export default class MyClass { ... }

// Import
import MyClass from "./module";
```

### Namespace Imports

```typescript
// Import everything
import * as utils from "./utils";
// Usage: utils.add(1, 2)
```

### Built-in Module Imports

```typescript
import http from "http";
import fs from "fs";
import path from "path";
```

## Step 10: Testing the Setup

1. **Test TypeScript compilation:**

   ```bash
   npm run build
   ```

2. **Test running compiled JavaScript:**

   ```bash
   npm start
   ```

3. **Test TypeScript execution:**

   ```bash
   npm run ts
   ```

4. **Test development mode:**

   ```bash
   npm run dev
   ```

## Troubleshooting

### Common Issues

1. **"Cannot find module" errors:**
   - Make sure file extensions are correct (`.ts` for TypeScript files, `.js` for compiled files)
   - Check that the file exists and the path is correct

2. **TypeScript compilation errors:**
   - Run `npm run build` to see detailed error messages
   - Check your `tsconfig.json` configuration

3. **Module resolution issues:**
   - Ensure `moduleResolution: "node"` in `tsconfig.json`
   - Check that `esModuleInterop: true` is set

### File Extension Rules

- **In TypeScript files:** Use `.ts` extensions or no extension

  ```typescript
  import { utils } from "./utils";  // âœ… Correct
  import { utils } from "./utils.ts"; // âœ… Also correct
  ```

- **In compiled JavaScript:** Use `.js` extensions

  ```javascript
  const { utils } = require("./utils.js"); // âœ… Correct
  ```

## Additional Configuration

### For Express.js Projects

If building a web server, add Express types:

```bash
npm install --save-dev @types/express
```

### For Testing

Add Jest for testing:

```bash
npm install --save-dev jest @types/jest ts-jest
```

### For Linting

Add ESLint:

```bash
npm install --save-dev eslint @typescript-eslint/parser @typescript-eslint/eslint-plugin
```

## Project Structure Best Practices

```txt
src/
â”œâ”€â”€ controllers/     # Route handlers
â”œâ”€â”€ models/         # Data models
â”œâ”€â”€ services/       # Business logic
â”œâ”€â”€ utils/          # Utility functions
â”œâ”€â”€ types/          # TypeScript type definitions
â”œâ”€â”€ config/         # Configuration files
â””â”€â”€ index.ts        # Entry point
```

## Environment Variables

Create `.env` file for environment variables:

```bash
# .env
PORT=3000
NODE_ENV=development
```

Install dotenv for loading environment variables:

```bash
npm install dotenv
npm install --save-dev @types/dotenv
```

Usage in TypeScript:

```typescript
import dotenv from 'dotenv';
dotenv.config();

const port = process.env.PORT || 3000;
```

## Git Ignore

Create `.gitignore`:

```txt
node_modules/
dist/
.env
*.log
.DS_Store
```

---

## Quick Start Checklist

- [ ] Initialize npm project
- [ ] Install TypeScript and development dependencies
- [ ] Configure `tsconfig.json`
- [ ] Set up package.json scripts
- [ ] Configure `nodemon.json`
- [ ] Create `src/` directory structure
- [ ] Test compilation with `npm run build`
- [ ] Test execution with `npm run ts`
- [ ] Test development mode with `npm run dev`

Your Node.js + TypeScript boilerplate is now ready for development! ðŸš€
